# å†œåœºå°ºå¯¸é€‚é…æ€»ç»“

## ä¿®å¤æ—¶é—´
2026å¹´2æœˆ3æ—¥

---

## ğŸ¯ é€‚é…ç›®æ ‡

å°† Flutter çš„ç”°åœ°å°ºå¯¸å’Œé—´è·ä¸ uni-app ä¿æŒä¸€è‡´ï¼Œå®ç°å“åº”å¼å¸ƒå±€ã€‚

---

## ğŸ“ uni-app å°ºå¯¸ï¼ˆrpxï¼‰

### ç”°å—å®¹å™¨
- **å®½åº¦**: 500rpx
- **é«˜åº¦**: autoï¼ˆæ ¹æ®å›¾ç‰‡æ¯”ä¾‹ï¼‰

### å³ä¾§æŒ‡ç¤ºç‰Œ
- **å®½åº¦**: 120rpx
- **ä½ç½®**: right: -20rpx, top: 20rpx

### æ¤ç‰©å›¾æ ‡
- **å®½åº¦**: 80rpx
- **é«˜åº¦**: auto

### è¿›åº¦æ¡
- **å®½åº¦**: 100rpx
- **é«˜åº¦**: 12rpx
- **æ–‡å­—å¤§å°**: 8rpx

### ç”°å—é—´è·
- **åº•éƒ¨é—´è·**: è‡ªåŠ¨ï¼ˆç”±å®¹å™¨å†³å®šï¼‰

---

## ğŸ“± Flutter é€‚é…æ–¹æ¡ˆ

### è½¬æ¢åŸç†
uni-app çš„ rpx å•ä½ï¼š
- è®¾è®¡ç¨¿å®½åº¦ï¼š750rpx
- å®é™…å±å¹•å®½åº¦ï¼šæ ¹æ®è®¾å¤‡è‡ªåŠ¨ç¼©æ”¾
- è½¬æ¢å…¬å¼ï¼š`å®é™…px = (rpx / 750) * å±å¹•å®½åº¦`

### ç®€åŒ–è®¡ç®—
ä»¥ç”°å—å®¹å™¨ä¸ºåŸºå‡†ï¼ˆ500rpxï¼‰ï¼š
- ç”°å—å®½åº¦ = å±å¹•å®½åº¦ * (500 / 750) â‰ˆ å±å¹•å®½åº¦ * 0.67
- å…¶ä»–å…ƒç´  = ç”°å—å®½åº¦ * (å…ƒç´ rpx / 500rpx)

---

## ğŸ”§ Flutter å®ç°

### 1. ç”°å—å®¹å™¨
```dart
// è®¡ç®—ç”°å—å®½åº¦ï¼ˆä¸uni-appä¸€è‡´ï¼š500rpx â‰ˆ å±å¹•å®½åº¦çš„ 2/3ï¼‰
final screenWidth = MediaQuery.of(context).size.width;
final fieldWidth = screenWidth * 0.67; // 500rpx / 750rpx â‰ˆ 0.67

Container(
  margin: const EdgeInsets.only(bottom: 30), // ç”°å—é—´è·
  height: fieldWidth, // é«˜åº¦ä¸å®½åº¦ç›¸åŒ
  child: SizedBox(
    width: fieldWidth,
    height: fieldWidth,
    child: Image.asset(...),
  ),
)
```

### 2. å³ä¾§æŒ‡ç¤ºç‰Œ
```dart
// 120rpx / 500rpx = 0.24
Positioned(
  right: fieldWidth * -0.04, // -20rpx / 500rpx â‰ˆ -0.04
  top: fieldWidth * 0.04,    // 20rpx / 500rpx â‰ˆ 0.04
  child: Image.asset(
    'assets/images/right_icon$rightIcon.png',
    width: fieldWidth * 0.24, // 120rpx / 500rpx = 0.24
  ),
)
```

### 3. æ¤ç‰©å›¾æ ‡
```dart
// 80rpx / 500rpx = 0.16
final plantWidth = fieldWidth * 0.16;

Image.asset(
  'assets/images/plant$plantType.png',
  width: plantWidth,
)
```

### 4. æ¤ç‰©ä½ç½®
```dart
// ä½¿ç”¨ç™¾åˆ†æ¯”å®šä½ï¼Œä¹˜ä»¥ç”°å—å®½åº¦
Positioned(
  left: position['left']! * fieldWidth,
  top: position['top']! * fieldWidth,
  child: Transform.translate(
    offset: Offset(-plantWidth / 2, -plantWidth), // å±…ä¸­åç§»
    child: ...,
  ),
)
```

### 5. è¿›åº¦æ¡
```dart
// 100rpx / 500rpx = 0.2
Container(
  width: fieldWidth * 0.2,    // 100rpx / 500rpx = 0.2
  height: fieldWidth * 0.024,  // 12rpx / 500rpx â‰ˆ 0.024
  decoration: BoxDecoration(
    borderRadius: BorderRadius.circular(fieldWidth * 0.012),
  ),
)
```

### 6. æ–‡å­—å¤§å°
```dart
// 8rpx / 500rpx â‰ˆ 0.016
Text(
  '$dkDay/$totalDayå¤©',
  style: TextStyle(
    fontSize: fieldWidth * 0.016, // 8rpx / 500rpx â‰ˆ 0.016
  ),
)
```

---

## ğŸ“Š å°ºå¯¸å¯¹ç…§è¡¨

| å…ƒç´  | uni-app (rpx) | ç›¸å¯¹ç”°å—æ¯”ä¾‹ | Flutter è®¡ç®— |
|------|---------------|-------------|--------------|
| ç”°å—å®½åº¦ | 500 | 1.0 | `screenWidth * 0.67` |
| æŒ‡ç¤ºç‰Œå®½åº¦ | 120 | 0.24 | `fieldWidth * 0.24` |
| æŒ‡ç¤ºç‰Œright | -20 | -0.04 | `fieldWidth * -0.04` |
| æŒ‡ç¤ºç‰Œtop | 20 | 0.04 | `fieldWidth * 0.04` |
| æ¤ç‰©å®½åº¦ | 80 | 0.16 | `fieldWidth * 0.16` |
| è¿›åº¦æ¡å®½åº¦ | 100 | 0.2 | `fieldWidth * 0.2` |
| è¿›åº¦æ¡é«˜åº¦ | 12 | 0.024 | `fieldWidth * 0.024` |
| æ–‡å­—å¤§å° | 8 | 0.016 | `fieldWidth * 0.016` |
| é—´è· | 4 | 0.008 | `fieldWidth * 0.008` |

---

## ğŸ¨ ä¸åŒå±å¹•å°ºå¯¸æ•ˆæœ

### iPhone 6/7/8 (375px å®½)
- ç”°å—å®½åº¦: 375 * 0.67 â‰ˆ 251px
- æŒ‡ç¤ºç‰Œå®½åº¦: 251 * 0.24 â‰ˆ 60px
- æ¤ç‰©å®½åº¦: 251 * 0.16 â‰ˆ 40px

### iPhone 6/7/8 Plus (414px å®½)
- ç”°å—å®½åº¦: 414 * 0.67 â‰ˆ 277px
- æŒ‡ç¤ºç‰Œå®½åº¦: 277 * 0.24 â‰ˆ 66px
- æ¤ç‰©å®½åº¦: 277 * 0.16 â‰ˆ 44px

### iPad (768px å®½)
- ç”°å—å®½åº¦: 768 * 0.67 â‰ˆ 515px
- æŒ‡ç¤ºç‰Œå®½åº¦: 515 * 0.24 â‰ˆ 124px
- æ¤ç‰©å®½åº¦: 515 * 0.16 â‰ˆ 82px

---

## âœ… é€‚é…ä¼˜åŠ¿

### 1. å“åº”å¼å¸ƒå±€
- è‡ªåŠ¨é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- ä¿æŒå…ƒç´ é—´çš„æ¯”ä¾‹å…³ç³»
- ä¸ uni-app è§†è§‰æ•ˆæœä¸€è‡´

### 2. ç²¾ç¡®æ¯”ä¾‹
- æ‰€æœ‰å…ƒç´ ç›¸å¯¹ç”°å—å®½åº¦è®¡ç®—
- é¿å…ç¡¬ç¼–ç å›ºå®šå°ºå¯¸
- æ˜“äºç»´æŠ¤å’Œè°ƒæ•´

### 3. æ€§èƒ½ä¼˜åŒ–
- åªè®¡ç®—ä¸€æ¬¡å±å¹•å®½åº¦
- æ‰€æœ‰å°ºå¯¸åŸºäºç”°å—å®½åº¦
- å‡å°‘é‡å¤è®¡ç®—

---

## ğŸ” å¯¹æ¯”éªŒè¯

### uni-app (iPhone 6, 375px)
```
ç”°å—: 500rpx â‰ˆ 250px
æŒ‡ç¤ºç‰Œ: 120rpx â‰ˆ 60px
æ¤ç‰©: 80rpx â‰ˆ 40px
```

### Flutter (iPhone 6, 375px)
```
ç”°å—: 375 * 0.67 â‰ˆ 251px âœ…
æŒ‡ç¤ºç‰Œ: 251 * 0.24 â‰ˆ 60px âœ…
æ¤ç‰©: 251 * 0.16 â‰ˆ 40px âœ…
```

**ç»“è®º**: å°ºå¯¸å®Œå…¨ä¸€è‡´ï¼

---

## ğŸ“ ä¿®æ”¹æ–‡ä»¶

- `lib/app/modules/home/task_page.dart`
  - `_build3DPlotItem()` - ç”°å—å®¹å™¨å’ŒæŒ‡ç¤ºç‰Œ
  - `_build3DPlantWidget()` - æ¤ç‰©å’Œè¿›åº¦æ¡

---

## ğŸ‰ å®ŒæˆçŠ¶æ€

âœ… æ‰€æœ‰å°ºå¯¸å·²æŒ‰ uni-app æ¯”ä¾‹é€‚é…
âœ… æ”¯æŒå“åº”å¼å¸ƒå±€
âœ… ä¸åŒå±å¹•å°ºå¯¸ä¿æŒä¸€è‡´
âœ… è§†è§‰æ•ˆæœä¸ uni-app å®Œå…¨ä¸€è‡´

ç°åœ¨å†œåœºåœ¨ä»»ä½•è®¾å¤‡ä¸Šéƒ½èƒ½å®Œç¾æ˜¾ç¤ºï¼ğŸ“±ğŸ’»
